<!DOCTYPE html>

<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Babylon.js Scene with Points and Lines</title>
    <style>
        body { 
            margin: 0; 
            overflow: hidden;
        }
        canvas { 
            width: 100%; 
            height: 100%; 
            background: linear-gradient(to top, #003366, #6699ff);
        }
        .input-group {
            position: absolute;
            top: 10px;
            left: 10px;
            z-index: 10;
        }


        #jsonOutput {
        width: 100%;
        box-sizing: border-box; /* Include padding and border in the element's total width and height */
        }
    </style>

    <style>
        #jsonOutput {
        width: 100%;
        box-sizing: border-box; /* Include padding and border in the element's total width and height */
        }
    </style>


</head>
<body>
    <div class="input-group">
   <!----     <input type="file" id="fileInput"> -->

        <label for="NASTRANfileInput" style="background-color: #4CAF50; color: white; padding: 10px; border: none; cursor: pointer;">Open NASTRAN files</label>
        <input type="file" id="NASTRANfileInput" accept=".bdf" multiple style="display: none;" />


        <input type="number" id="pointCountInput" placeholder="Enter number of points">
        <button id="createPointsBtn">Create Points and Lines</button>
        <button id="resetSceneBtn">Reset Scene</button>
        <input id="number" placeholder="Input a number" >
        <button id="submit">Square</button>



<!---- Read and Export NVUD files-->

        <label for="NVUDfileInput" style="background-color: #4CAF50; color: white; padding: 10px; border: none; cursor: pointer;">Open NVUD files</label>
        <input type="file" id="NVUDfileInput" accept=".nvud" multiple style="display: none;" />
      
        <button id="exportXml">Export as XML</button>
        <button id="exportYaml">Export as YAML</button>
        <button id="exportJsonBtn">Export JSON</button>
      
      
        <div id="jsonOutput"></div><!-- Changed from<pre> to<div> to accommodate the tree structure -->
<!---- END OF Read and Export NVUD files-->

        <h4>Outputs</h4>
        <ul id="list"></ul>
    </div>

    <canvas id="renderCanvas"></canvas> 

    <!---- Include Online JavaScript Libraries -->

    <!----  <script src="https://cdn.babylonjs.com/babylon.js"></script> -->
    <script src="./lib/babylon.js"></script>

    <!----  <script src="https://cdn.babylonjs.com/materialsLibrary/babylon.gridMaterial.min.js"></script> -->
    <!----  <script src="https://cdn.babylonjs.com/inspector/babylon.inspector.bundle.js"></script> -->

    <script src="./lib/babylonjs.loaders.min.js"></script>

    <!--- https://mathjs.org/docs/index.html Mathematical library for Javascript -->   
    <!--- <script src="./lib/math_library.js"></script> -->

    <script src="./lib/js-yaml.js"></script>

    <!---- Include Local JavaScript files -->
    <script src="./src/00_Generic/00_1_Maths_and_Colors.js"></script>
    <script src="./src/00_Generic/00_2_Generic_Functions.js"></script>
    <script src="./src/00_Generic/00_3_1_Parse_Parameters.js" ></script>
    <script src="./src/00_Generic/00_3_2_Parse_Vectors_and_Nodes.js" ></script>
    <script src="./src/00_Generic/00_4_Color_Functions.js" ></script>
    <script src="./src/00_Generic/00_5_Coordinate_Transformations.js" ></script>

    <script src="./src/01_Scene_and_Lights/00_Main.js"></script>
    <script src="./src/01_Scene_and_Lights/01_Create_Scene.js"></script>
    <script src="./src/01_Scene_and_Lights/01_01_ground_grid_axes.js"></script>

    <script src="./src/02_Create_Geometries/02_Create_and_Render_Geometries.js"></script>
    <script src="./src/02_Create_Geometries/02_01_Create_Smooth_Surface.js"></script>
    <script src="./src/02_Create_Geometries/02_02_Create_Mesh_From_Nodes.js"></script>
    <script src="./src/02_Create_Geometries/02_03_Create_BALLs_from_Nodes.js"></script>
    <script src="./src/02_Create_Geometries/02_04_Create_Arrows_for_Vectors.js"></script>
    <script src="./src/02_Create_Geometries/02_05_Create_Labels.js"></script>
    <script src="./src/02_Create_Geometries/02_06_Create_Coordinate_Systems.js"></script>
    <script src="./src/02_Create_Geometries/02_000_points_lines_to_be_deprecated.js"></script>   
        
    <script src="./src/03_Render_Loop_and_Events/03_Render_Loop.js"></script>
    
    <script src="./src/99_Data_Structures_and_Parsers/99_000_Examples_of_Data_structures.js"></script>
    <script src="./src/99_Data_Structures_and_Parsers/99_001_new_nastran_reader.js" ></script>   
    <script src="./src/99_Data_Structures_and_Parsers/99_002_Load_STL_File.js" ></script>   
    <script src="./src/99_Data_Structures_and_Parsers/99_003_convert_MyJSON_to_proper_JSON.js" ></script>   

    <script src="./src/04_REST_Code/GET_REST_points_to_plot.js"></script>
    <script src="./src/04_REST_Code/REST_CLIENT_POINTS_string_GOOD.js"></script>

    <script src="./src/05_NVUD_code/05_1_NVUD_reader_and_export.js"></script>


    <script>


    main()   // Do everything

        // TO-DO

        // Revise the need for nodes and vectors as independent entities, where vectors could do all the functions   2024 01 11
        // check errors in coordinate transformations: 1- ill-defined coordys (parallel vectors), 2- non-existent coordys


    </script>

</body>
</html>
